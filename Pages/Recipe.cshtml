@page
@model ReceptHemsida.Pages.RecipeModel
@{
    ViewData["Title"] = "All Recipes";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<!-- Hero Section with Background Image -->
<div class="hero-section text-center position-relative">
    <div class="overlay"></div>
    <div class="container-fluid position-relative text-white py-5">

        <!-- Title Above Search -->
        <h1 class="fw-bold search-title">All recipes</h1>

       @*  <!-- Search Input Centered -->
        <form method="get">
            <div class="search-container">
                <input type="text" name="Search" value="@Model.Search" class="form-control search-input" placeholder="Search recipe of your choice...">
                <button type="submit" class="btn search-btn"><i class="fas fa-search"></i></button>
            </div>
        </form> *@
    </div>

    <!-- Filter Section Below Search -->
    <div class="container filter-container">
        <div class="filter-card p-3">
            <h4 class="mb-3 text-center fw-bold filter-title">Filter Your Recipes</h4>
            <div class="row text-center">
                <div class="col-md-4">
                    <label for="categoryFilter" class="form-label filter-label">Category:</label>
                    <select id="categoryFilter" class="form-select">
                        <option value="all">All Categories</option>
                        @foreach (var category in Enum.GetValues(typeof(ReceptHemsida.Models.RecipeCategory)))
                        {
                            <option value="@category">@category</option>
                        }
                    </select>
                </div>

                <div class="col-md-4">
                    <label for="timeFilter" class="form-label filter-label">Cooking Time:</label>
                    <select id="timeFilter" class="form-select">
                        <option value="all">Select Time</option>
                        <option value="15">Under 15 min</option>
                        <option value="30">Under 30 min</option>
                        <option value="60">Under 60 min</option>
                        <option value="120">Under 2 hours</option>
                    </select>
                </div>

                <div class="col-md-4">
                    <label for="difficultyFilter" class="form-label filter-label">Difficulty:</label>
                    <select id="difficultyFilter" class="form-select">
                        <option value="all">All Levels</option>
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Recipes Display Section -->
<div class="container">
    <div class="row">
        @if (Model.Recipes.Any())
        {
            @foreach (var recipe in Model.Recipes)
            {
                <div class="col-md-4">
                    <div class="recipe-card"
                         data-category="@recipe.Category"
                         data-cooktime="@recipe.CookTime"
                         data-difficulty="@recipe.Difficulty">
                        <img src="@(string.IsNullOrEmpty(recipe.ImageUrl) ? "/images/default-recipe.jpg" : recipe.ImageUrl)"
                             alt="@recipe.Title" class="recipe-img">
                        <div class="recipe-content">
                            <h3 class="recipe-title">@recipe.Title</h3>
                            <div class="recipe-meta">
                                <span><i class="bi bi-clock"></i> @recipe.CookTime min</span>
                                <span><i class="bi bi-award"></i> @recipe.Difficulty</span>
                                <span><i class="bi bi-tag"></i> @recipe.Category</span>
                            </div>
                        </div>
                        <p class="recipe-desc">@recipe.Description</p>
                        <div class="recipe-footer">
                            <a href="/recipe/details/@recipe.Id" class="btn">View Recipe</a>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div id="noRecipesMessage" class="no-recipes text-center">
                <p>No recipes found with the chosen filters.</p>
            </div>
        }
    </div>
</div>
